extends ../layouts/default

block append js
    script(src="/js/jquery/jquery.doubleScroll.js")
    //- script(src="/js/minionsData.js")
    //- script(src="/js/minionsOperation.js")
    script(src="/js/minions.js")
    script(src="/js/general.js")
    	
block append variables
    - var currentPage = "minions";

block meta
    meta(name="description" content="Know your most profitable minions! Tailor made for each profile, highly accurate.")

block content
    .container
        h1.d-inline-block Minions &nbsp;
        img.d-inline-block.align-top(src="/images/minions.png" width="40" height="40")
        p.d-inline-block &nbsp; &nbsp; &nbsp;
        +infoBox("minionsTitleModal","info","Minions Profit Calculator")
            p It calculates the profit generated by each minion.
            p What's so special is that it allows you to fully personalize its elements to become your own minion tier list based on your profile, which include minion tiers, form of products (even in e-block form!), whether or not diamond spreadings are equipped, and more.
            p It also calculates the profit based on bazaar prices directly obtained from the Hypixel API, so the prices are up-to-date.
            p: a(href="/info/minions" target="_blank") Check out whole documentation
        
        p Profit Calculator - Find the best minions to place down while you are offline!
        
        //- h3 Notice
        //- p 1 Dec 2021: Hypixel removed enchanted poisonous potato from drops of zombie minion.
        //- h3 Notice
        //- p I just added enchanted poisonous potatos to the Zombie Minion drops. As each enchanted poisonous potato could sell 1600 coins to the NPC, this contributes nearly 50k per day if you have a high tier Zombie Minion, which makes it actually is one of the best profitable minions right now!

        #overall
            .row
                #general.col-lg-6.col-12
                    br
                    h3 Tier Selection
                    .form-check
                        input#overallUseProfile.form-check-input.radio(type="radio" name="tierTypeRadios" value=1 checked=(settings.tierType==1 ? "checked":undefined)) 
                        label(for="overallUseProfile") Use profile (Recommended)  &nbsp; 
                        +infoBox("profileModal","question","Why is my Minecraft name required?")
                            p If you enter your Minecraft name, it will calculate the profit based on the highest tier of the minion you have crafted. It could make the profit list more personalized and useful when finding the most profitable minions among those you have.
                            p Alternatively, you could choose "Estimate by number of minion slots" or "Manually choose tier", and select the minion slots you have/ tier of the minions manually.
                            p: a(href="/info/minions#mincraftName" target="_blank") Check out whole documentation
                        .form-group#useProfile
                            p Minecraft name: &nbsp; 
                                input#overallProfileName.form-control(value=settings.name oninput="selectTierTypeRadios(1)")
                            if(settings.profileNames)
                                label#overallProfileProfileLabel(for="overallProfileProfile") Profile: &nbsp;
                                select#overallProfileProfile.form-control
                                    -let k=0;
                                    while k<settings.profileNames.length
                                        option(value=k selected=(settings.profile==k?'selected':undefined))=settings.profileNames[k]
                                        -k++;
                    .form-check.mb-3
                        input#overallUseSlots.form-check-input.radio(type="radio" name="tierTypeRadios" value=2 checked=(settings.tierType==2 ? "checked":undefined)) 
                        label(for="overallUseSlots") Estimate by number of minion slots  &nbsp; 
                        +infoBox("slotsModal","question","Estimate by number of minion slots")
                            p Please note that this is not the minions you have. 23 is the default value as I think that is what some late game players may have.
                            p It is an estimation of the minions they have for people who do not want to put their names in. Assuming you craft the minions in ascending order of costs until you have enough unique minions to unlock the minion slot you specified.
                            p The aim is to exclude exceptionally expensive minions like Voidling Tier 11. However, if you want to get the most out of the calculator, you are advised to enter your Minecraft name so that it can obtain the exact minions you have.
                            p.small Please note that it is just an ESTIMATE of the minions you have, the minions you have could be quite different because you might not be buying them in order, and the cost of the minions depends on the market price of materials.
                            p: a(href="/info/minions#minionSlotsTierType" target="_blank") Check out whole documentation
                        br
                        select#overallSlots.form-control(onchange="selectTierTypeRadios(2)")
                            -let l=0;
                            while l<settings.minionSlotsCriteriaLength
                                if l+6==23
                                    //- 23: default
                                    option(selected=(!settings.slots||settings.slots==(l+6) ? 'selected':undefined))=l+6
                                else
                                    option(selected=(settings.slots==(l+6) ? 'selected':undefined))=l+6
                                -l++;
                            option(selected=(settings.slots=="maxed" ? 'selected':undefined) value="maxed") Maxed
                        span &nbsp; slots
                    .form-check
                        input#overallUseTier.form-check-input.radio(type="radio" name="tierTypeRadios" value=0 checked=(settings.tierType==0 ? "checked":undefined)) 
                        label(for="overallUseTier") Manually select tier: &nbsp;
                        a(href="/info/minions#minionSlotsManualType" target="_blank"): i.pt-2.fas.fa-question-circle
                        br
                        span Tier &nbsp;
                        select#overallTier.form-control(onchange="selectTierTypeRadios(0)")
                            -let j=1
                            while j<=10
                                option(selected=(settings.tier==j ? 'selected':undefined))=j
                                -j++;
                            //- 11: default
                            option(selected=(!settings.tier||settings.tier==11 ? 'selected':undefined) value="11") 11
                            option(selected=(settings.tier==12 ? 'selected':undefined) value="12") 11/12
                    
                    br
                    h3 General
                    .form-group
                        p Fuel/ other perks: &nbsp; 
                            input#overallFuel.form-control(type="number" value=settings.fuel min="0")
                            span &nbsp; % &nbsp;
                            a(href="/info/minions#fuel" target="_blank"): i.pt-2.fas.fa-question-circle

                    #autoCalculationType(class=(settings.calculationType==1 ? "":"d-none"))
                        .form-group
                            p Offline time: &nbsp; 
                                input#overallOfflineTime.form-control(type="number" value=settings.offlineTimeUnit==1?settings.offlineTime/24:settings.offlineTime min="0")
                                span &nbsp;
                                select#overallOfflineTimeUnit.form-control
                                    option(value="0" selected=(settings.offlineTimeUnit==0?'selected':undefined)) hour(s)
                                    option(value="1" selected=(settings.offlineTimeUnit==1?'selected':undefined)) day(s)
                                span &nbsp; &nbsp;
                                a(href="/info/minions#offlineTime" target="_blank"): i.pt-2.fas.fa-question-circle
                        small.pl-3 ^If you are not sure about your offline time, you could leave it as 1 day.
                        br
                .col-lg-6.col-12  
                    #advanced
                        br
                        h3 Advanced
                        #manualCalculationType(class=(settings.calculationType==0 ? "":"d-none"))
                            .form-group
                                label(for="overallProductForm") Products form: &nbsp;
                                select#overallProductForm.form-control
                                    option(value="-2" selected=(settings.productForm==-2?'selected':undefined)) Max profit (enchanted forms)
                                    option(value="-1" selected=(settings.productForm==-1?'selected':undefined)) Max profit
                                    option(value="0" selected=(settings.productForm==0?'selected':undefined)) Unenchanted form
                                    option(value="1" selected=(settings.productForm==1?'selected':undefined)) First enchanted form
                                    option(value="2" selected=(settings.productForm==2?'selected':undefined)) Second enchanted form (if applicable)
                            .form-group
                                label(for="overallDiamondSpreadingDwarvenCompactor") Diamond Spreading: &nbsp;
                                select#overallDiamondSpreadingDwarvenCompactor.form-control
                                    option(value="0" selected=(settings.diamondSpreading==0?'selected':undefined)) None
                                    option(value="1" selected=(settings.diamondSpreading==1||settings.diamondSpreading==3?'selected':undefined)) Diamond spreading only
                                    option(value="2" selected=(settings.diamondSpreading==2?'selected':undefined)) Diamond spreading + Dwarven compactor
                                span &nbsp; 
                                a(href="/info/minions#differentCompactors" target="_blank"): i.pt-2.fas.fa-question-circle

                        #autoCalculationTypeAdvanced(class=(settings.calculationType==1 ? "":"d-none"))
                            .form-group
                                input#overallDiamondSpreading.checkbox(type="checkbox" checked=(settings.diamondSpreading>=1 ? 'checked' : undefined))
                                label(for="overallDiamondSpreading") &nbsp; Has Diamond Spreading &nbsp;
                                a(href="/info/minions#diamondSpreading" target="_blank"): i.pt-2.fas.fa-question-circle
                            .form-group
                                label(for="overallSuperCompactor") Compactor: &nbsp;
                                select#overallSuperCompactor.form-control(onchange="toggleMinionChest()")
                                    option(value="0" selected=(settings.superCompactor==0?'selected':undefined)) None/ Compactor
                                    //-option(value="1" selected=(settings.superCompactor==1?'selected':undefined)) Compactor
                                    option(value="2" selected=(settings.superCompactor==2?'selected':undefined)) Super Compactor 3000
                                    option(value="3" selected=(settings.superCompactor==3?'selected':undefined)) Dwarven Super Compactor
                                span &nbsp; 
                                a(href="/info/minions#differentCompactors" target="_blank"): i.pt-2.fas.fa-question-circle
                            #minionChest(class=(settings.superCompactor<=1 ? "":"d-none"))
                                .form-group
                                    input#overallNoCrafting.checkbox(type="checkbox" checked=(settings.noCrafting>=1 ? 'checked' : undefined))
                                    label(for="overallNoCrafting") &nbsp; No crafting &nbsp;
                                    a(href="/info/minions#noCrafting" target="_blank"): i.pt-2.fas.fa-question-circle
                            //-     .form-group
                            //-         label(for="overallMinionChest") Minion Chest: &nbsp;
                            //-         select#overallMinionChest.form-control
                            //-             option(value="0" selected=(settings.minionChest==0?'selected':undefined)) None
                            //-             option(value="3" selected=(settings.minionChest==3?'selected':undefined)) Small Storage
                            //-             option(value="9" selected=(settings.minionChest==9?'selected':undefined)) Medium Storage
                            //-             option(value="15" selected=(settings.minionChest==15?'selected':undefined)) Large Storage
                            //-             option(value="21" selected=(settings.minionChest==21?'selected':undefined)) X-Large Storage
                            //-             option(value="27" selected=(settings.minionChest==27?'selected':undefined)) XX-Large Storage
                            //-     .form-group
                            //-         label(for="overallAutomaticShipping") Automated Shipping: &nbsp;
                            //-         select#overallAutomaticShipping.form-control
                            //-             option(value="0" selected=(settings.automaticShipping==0?'selected':undefined)) None
                            //-             option(value="0.5" selected=(settings.automaticShipping==0.5?'selected':undefined)) Budget Hopper
                            //-             option(value="0.9" selected=(settings.automaticShipping==0.9?'selected':undefined)) Enchanted Hopper
                        
                        .form-group
                            label(for="overallSellingTo") <img src="/images/ironman.png" width="25"/> &nbsp; Selling to (for ironman mode players): &nbsp;
                            select#overallSellingTo.form-control
                                option(value="1" selected=(settings.sellingTo==1?'selected':undefined)) Max profit (NPC or bazaar)
                                option(value="0" selected=(settings.sellingTo==0?'selected':undefined)) NPC only
                            span &nbsp; &nbsp;
                            a(href="/info/minions#sellingTo" target="_blank"): i.pt-2.fas.fa-question-circle
                        .form-group
                            input#overallShowDetails.checkbox(type="checkbox" checked=(settings.showDetails>=1 ? 'checked' : undefined))
                            label(for="overallShowDetails") &nbsp; Show raw data button and details &nbsp;
                            a(href="/info/minions#rawDataButton" target="_blank"): i.pt-2.fas.fa-question-circle
                        
                        #autoCalculationTypeMiscellaneous(class=(settings.calculationType==1 ? "":"d-none"))
                            .form-group
                                //-pretick use profile to be true for first time visit
                                input#overallSoulflow.checkbox(type="checkbox" checked=settings.soulflow? "checked":undefined) 
                                label(for="overallSoulflow") &nbsp; Use Lesser Soulflow Engine &nbsp; 
                                a(href="/info/minions#lesserSoulflowEngine" target="_blank"): i.pt-2.fas.fa-question-circle
                        .form-group
                            label(for="overallSellingMethod") Selling method in bazaar: &nbsp;
                            select#overallSellingMethod.form-control
                                option(value="1" selected=(settings.sellingMethod==1?'selected':undefined)) Sell instantly
                                option(value="0" selected=(settings.sellingMethod==0?'selected':undefined)) Sell offer
                            span &nbsp; &nbsp;
                            a(href="/info/minions#sellingMethodInBazaar" target="_blank"): i.pt-2.fas.fa-question-circle 
                        .form-group
                            label(for="overallTax") Tax in bazaar: &nbsp; 
                            input#overallTax.form-control(type="number" value=settings.tax min="0")
                            span &nbsp; % &nbsp;
                            a(href="/info/minions#tax" target="_blank"): i.pt-2.fas.fa-question-circle
                        
                        //- br
                        //- .miscellaneousInline
                        //-     h3 Miscellaneous &nbsp;
                        //-     a.read-more(data-toggle="collapse" href="#miscellaneous" aria-expanded="false" aria-controls="miscellaneous")
                        //-         span.collapsed Show more
                        //-         span.expanded Show less
                        //- #miscellaneous.collapse
                            //- .form-group
                                //- label(for="overallCalculationType") Calculation mode: &nbsp;  
                                //- select#overallCalculationType.form-control(onchange="toggleCalculationType()")
                                //-     option(value="0" selected=(settings.calculationType==0?'selected':undefined)) Old (Not recommended)
                                //-     option(value="1" selected=(settings.calculationType==1?'selected':undefined)) New (Based on offline duration)
                                //- span &nbsp; 
                                //-     +infoBox("calculationTypeModal","question","Calculation Modes")
                                //-         h4 New calculation mode
                                //-         p It calculates the profit based on your frequency of collecting minions. For example, lapis minions could be a good minion for active players, who collect enchanted lapis before they are automatically converted into enchanted lapis blocks, but not for those who are less active.
                                //-         h4 Old calculation mode
                                //-         p The original calculation mode - It calculates the profit based on a particular enchanted form of every product. (e.g. first enchanted form/ most profitable enchanted form) It does not calculate based on your offline duration.
                                //-         p.live Note: The old calculation mode will be removed soon. If there are some reason you would prefer the old calculation mode over the new one, you are advised to <a href="/contact">voice out</a>, to see if I can integrate the feature you wanted to the new calculation type.

            br
            button#overallSettings.btn(onclick="generateLink()") Apply
            span &nbsp; &nbsp; &nbsp;
            button.btn.btn-link.read-more(onclick="clearInput()") Clear
            br
            br

        #content
            hr
            <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
            //- <!-- minions1 -->
            <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-3541192882647315" data-ad-slot="6074503232" data-ad-format="auto" data-full-width-responsive="true"></ins>
            <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script>
            br
            if settings&&settings.hasError
                h1 Error
                p.lead=settings.errorMsg
                h3 Is Hypixel API down?
                p You could check to see if <a href="https://api.hypixel.net/skyblock/bazaar">this link</a> brings you to the raw bazaar data to see if Hypixel API is down.
                p If so, we could not calculate minions profit based on the latest bazaar price. However, you may try <a href="/minions/?sellingTo=0">this set of settings</a> to obtain the minions profit in NPC price instead, until the Hypixel API is fixed.
                p You may make a bug report <a href="/contact">here</a> if the above set of settings also does not work. Sorry for the inconvenience caused.
            else if !minions || !settings
                h1 Error
                p.lead An unexpected error has occured.
                h3 Is Hypixel API down?
                p You could check to see if <a href="https://api.hypixel.net/skyblock/bazaar">this link</a> brings you to the raw bazaar data to see if Hypixel API is down.
                p If so, we could not calculate minions profit based on the latest bazaar price. However, you may try <a href="/minions/?sellingTo=0">this set of settings</a> to obtain the minions profit in NPC price instead, until the Hypixel API is fixed.
                p You may make a bug report <a href="/contact">here</a> if the above set of settings also does not work. Sorry for the inconvenience caused.
            else
                //- TEMP: removal of old calculation mode warning
                if settings.calculationType == 0 
                    h2.live Warning! You are using the old calculation mode, which will be removed soon.
                    p.live If there are some reason you would prefer the old calculation mode over the new one, you are advised to <a href="/contact">voice out</a>, to see if I can integrate the feature you wanted to the new calculation type.
                #search: .form-group
                    label(for="searchInput") Search: &nbsp;
                    input#searchInput(list="searchDatalist").form-control
                    datalist#searchDatalist
                        each minion in minions
                            option(value=minion.name.substring(0,minion.name.lastIndexOf(" ")))
                    span &nbsp; &nbsp; &nbsp;
                    button#searchButton.btn(onclick="search()") Search
                #doubleScroll: table#minionsTable.table.table-dark.w-100
                    thead
                        tr
                            th(scope="col")
                            th(scope="col") 
                                if settings.calculationType==0
                                    | Minion (Profit Per Hour) <br /> 
                                else
                                    if settings.offlineTimeUnit==1
                                        | Minion (Total Profit for<br /> 1 minion for #{settings.offlineTime/24} day(s)) <br /> 
                                    else
                                        | Minion (Total Profit for<br /> 1 minion for #{settings.offlineTime} hour(s)) <br /> 
                                a(href="/info/minions#minionCol" target="_blank"): i.pt-2.fas.fa-question-circle
                                | &nbsp; &nbsp;
                                button#unhideAllCols.btn.btn-link(onClick="unhideCol()").invisible Unhide all columns
                            th(scope="col").tierCol
                                | Tier <br />
                                i.pt-2.fas.fa-minus-circle(onclick="hideCol('tierCol')")
                                | &nbsp;
                                a(href="/info/minions#tierCol" target="_blank"): i.pt-2.fas.fa-question-circle
                            th(scope="col" class="tools").minionUpgrades
                                | Minion Upgrades <br />
                                i.pt-2.fas.fa-minus-circle(onclick="hideCol('minionUpgrades')")
                                | &nbsp;
                                a(href="/info/minions#minionUpgrades" target="_blank"): i.pt-2.fas.fa-question-circle
                            th(scope="col").itemsCol
                                | Items <br />
                                i.pt-2.fas.fa-minus-circle(onclick="hideCol('itemsCol')")
                                | &nbsp;
                                a(href="/info/minions#itemsCol" target="_blank"): i.pt-2.fas.fa-question-circle
                            th(scope="col").quantityCol
                                | Quantity <br />
                                i.pt-2.fas.fa-minus-circle(onclick="hideCol('quantityCol')")
                                | &nbsp;
                                a(href="/info/minions#quantityCol" target="_blank"): i.pt-2.fas.fa-question-circle
                            th(scope="col").unitPriceCol 
                                | Unit Price (Bazaar) <br />
                                i.pt-2.fas.fa-minus-circle(onclick="hideCol('unitPriceCol')")
                                | &nbsp;
                                a(href="/info/minions#unitPriceCol" target="_blank"): i.pt-2.fas.fa-question-circle
                            if settings.calculationType==1
                                th(scope="col").totalProfitCol 
                                    | Total Profit <br />
                                    i.pt-2.fas.fa-minus-circle(onclick="hideCol('totalProfitCol')")
                                    | &nbsp;
                                    a(href="/info/minions#totalProfitCol" target="_blank"): i.pt-2.fas.fa-question-circle
                            th(scope="col").profitPerHour
                                | Profit Per Hour <br />
                                i.pt-2.fas.fa-minus-circle(onclick="hideCol('profitPerHour')")
                                | &nbsp;
                                a(href="/info/minions#profitPerHour" target="_blank"): i.pt-2.fas.fa-question-circle
                            th(scope="col")
                    -let i=0;
                    each minion in minions
                        tr(id="minion"+i+"Row" class=minion.hasIndividualSettings==1?"individualTableRow":null)
                            td.text-center
                                | ##{i+1}
                                br
                                img(src="/images/minions/"+minion.name+".png" width="30" height="30")
                            td(id="minion"+i+"Name")
                                | #{minion.name}
                                br
                                | (#{minion.totalProfitText})
                            td(id="minion"+i+"Tier").tierCol=minion.tier
                            td(id="minion"+i+"Tools" class=minion.toolsWarning? "warning" : null).minionUpgrades: p.tools
                                if minion.tools
                                    each tool in minion.tools
                                        | #{tool}
                                        br
                            td(id="minion"+i+"Items").itemsCol
                                if minion.outputProducts
                                    each product in minion.outputProducts
                                        | #{product.name}
                                        br
                            td(id="minion"+i+"NumberOfItems").quantityCol
                                if minion.outputProducts
                                    each product in minion.outputProducts
                                        | #{product.numberOfItems}
                                        br
                            td(id="minion"+i+"BazaarPrices").unitPriceCol
                                if minion.outputProducts
                                    each product in minion.outputProducts
                                        | #{product.unitPrice}
                                        br
                            td(id="minion"+i+"TotalProfit").totalProfitCol.text-right=minion.totalProfitText
                            if settings.calculationType==1
                                td(id="minion"+i+"ProfitPerHour").profitPerHour.text-right=minion.profitPerHour
                            td(id="minion"+i+"Settings")
                                button.btn.btn-blue(id="individualSettings"+i data-toggle="modal" data-target="#individualModal"+i) Settings
                                if(settings.showDetails==1)
                                    br
                                    button.mt-2.btn.btn-blue(id="individualInfo"+i data-toggle="modal" data-target="#infoModal"+i) Raw Data
                        - i++;
                
                - i=0;
                #individualModals
                    each minion in minions
                        .modal.fade(id="individualModal"+i tabindex="-1" role="dialog" aria-labelledby="individualModalLabel"+i aria-hidden="true")
                            .modal-dialog(role="document")
                                .modal-content(id="individualSettingsForm"+minion.id)
                                    .modal-header
                                        h5.modal-title(id="#individualModalLabel"+i)=minion.name
                                        button.close(type="button" data-dismiss="modal" aria-label="Close")
                                            span(aria-hidden="true") &times;
                                    .modal-body
                                        .form-group
                                            label(for=minion.id+"individualTier") Tier: &nbsp;
                                            select(id=minion.id+"individualTier").form-control
                                                -let j=1;
                                                while j<=minion.tierDelay.length
                                                    option(selected=(minion.tier==j ? 'selected':undefined))=j
                                                    -j++;
                                        .form-group
                                            label(for=minion.id+"individualFuel") Fuel/ other perks: &nbsp;
                                            input(id=minion.id+"individualFuel" type="number" value=minion.fuel min="0").form-control.individualFuel
                                            span &nbsp; %
                                        - let k=0;
                                        p Products:
                                        each product in minion.products
                                            .form-group
                                                label(for=minion.id+"individualProduct"+k) #{product.item}: &nbsp;
                                                select(id=minion.id+"individualProduct"+k).form-control
                                                    -let l=0;
                                                    each variant in product.variants
                                                        option(value=l selected=(product.selectedVariant==l? 'selected': undefined))=variant
                                                        - l++;
                                                    option(value=-1 selected=(product.selectedVariant==-1? 'selected': undefined)) No #{product.item}
                                                -k++;

                                            
                                            //-p More features coming soon, such as allowing you to change product forms or only allowing certain products to produce.
                                    .modal-footer
                                        button.btn.btn-secondary(type="button" data-dismiss="modal") Cancel
                                        button.btn.btn-warning(type="button" onclick="appendLink("+minion.id+")") Apply
                        - i++;
                - i=0;
                if(settings.showDetails==1)
                    #infoModals
                        each minion in minions
                            +infoBox("infoModal"+i,"rightInfo",minion.name)
                                span Selected tier: #{minion.tier} <br />
                                span Selected fuel: #{minion.fuel}% <br />
                                br
                                h3 Products
                                each product in minion.products
                                    h4=product.item
                                    if(product.item=="Diamond (Spreading)")
                                        span Generated Per Time: Calculated by sum of items harvested * 0.1 <br />
                                    else
                                        span Generated Per Time: #{product.perTime} <br />
                                    //- XP
                                    if(product.canCompactor)
                                        span.
                                            Can be compacted <br />
                                            Product Name: #{product.compactor.variant} <br /> 
                                            Equivalent: #{product.compactor.variantEquiv} <br />
                                    br
                                    h5 Variants
                                    - let j=0
                                    table.table.table-dark
                                        thead
                                            tr
                                                th(scope="col") Name
                                                th(scope="col") Equivalent
                                                th(scope="col") NPC Price
                                        each variant in product.variants
                                            tr
                                                td=variant
                                                td=product.variantsEquiv[j]
                                                td=product.variantsNpcPrices ? product.variantsNpcPrices[j]: product.npcPrice*product.variantsEquiv[j]
                                            -j++;
                                    br
                                h3 Tiers
                                - let k=0
                                table.table.table-dark
                                    thead
                                        tr
                                            th(scope="col") Tier
                                            th(scope="col") Time between actions <br />(in seconds)
                                            th(scope="col") Storage
                                            th(scope="col") Crafting materials
                                            th(scope="col") Quantities
                                    each tier in minion.tierDelay
                                        tr
                                            td=(k+1)
                                            td=tier
                                            td=minion.storage[k]
                                            td
                                                each upgradeMaterial in minion.upgrade.materials[k]
                                                    | #{upgradeMaterial}
                                                    br
                                                if minion.upgrade.materialsAlt && minion.upgrade.materialsAlt[k]
                                                    | OR
                                                    br
                                                    each upgradeMaterial in minion.upgrade.materialsAlt[k]
                                                        | #{upgradeMaterial}
                                                        br
                                            td                                     
                                                each upgradeQuantity in minion.upgrade.quantities[k]
                                                    | #{upgradeQuantity}
                                                    br
                                                if minion.upgrade.quantitiesAlt && minion.upgrade.quantitiesAlt[k]
                                                    | OR
                                                    br
                                                    each upgradeQuantity in minion.upgrade.quantitiesAlt[k]
                                                        | #{upgradeQuantity}
                                                        br
                                        -k++;

                            - i++;
            p: small
                if(settings.lastUpdatedBazaar)
                    | Last updated time of bazaar price: #{settings.lastUpdatedBazaar} UTC
                if(settings.lastUpdatedProfile)
                    | <br />Last updated time of profile: #{settings.lastUpdatedProfile} UTC
  
//- .form-group
//-     p Fuel: &nbsp; <input id="individualFuel" type="number" value="25" class="form-control" min="0"/> %
//- .form-group
//-     input#individualDiamondSpreading.checkbox(type="checkbox" checked onchange="toggleIndividualDiamondSpreading()")
//-     label(for="individualDiamondSpreading") &nbsp; Has Diamond Spreading
//- .form-group#products
//-     label Form of products:
//-     br
//-     -let m = 0;
//-     -let n = 0;
//-     while m<10
//-         select(id="individualProduct"+m).form-control
//-             -n=0;
//-             while n<5
//-                 option(id="individualProduct"+m+"Option"+n value=n)
//-                 -n++;
//-         -m++;
//-     select(id="individualProductDiamondSpreading").form-control
//-         -n=0;
//-         while n<3
//-             option(id="individualProductDiamondSpreadingOption"+n value=n)
//-             -n++;
//- .form-group
//-     label(for="individualSellingTo") Selling to: &nbsp;
//-     select#individualSellingTo.form-control
//-         option(value="0") Max profit (NPC or bazaar)
//-         option(value="1") Bazaar only
//-         option(value="-1") NPC only
//- .form-group
//-     label(for="individualSellingMethod") Selling method in bazaar: &nbsp;
//-     select#individualSellingMethod.form-control
//-         option(value="0") Sell offer
//-         option(value="1") Sell instantly

//- .form-group
//-     .form-check
//-         input#slots10.form-check-input.radio(type="radio" name="slotsRadios" value=10 onchange="selectTierTypeRadios(2)" checked=(settings.slots==10 ? "checked":undefined)) 
//-         label(for="slots10") 10 slots
//-     .form-check
//-         input#slots15.form-check-input.radio(type="radio" name="slotsRadios" value=15 onchange="selectTierTypeRadios(2)" checked=(settings.slots==15 ? "checked":undefined)) 
//-         label(for="slots15") 15 slots
//-     .form-check
//-         input#slots20.form-check-input.radio(type="radio" name="slotsRadios" value=20 onchange="selectTierTypeRadios(2)" checked=(settings.slots==20 ? "checked":undefined)) 
//-         label(for="slots20") 20 slots
//-     .form-check
//-         input#slots23.form-check-input.radio(type="radio" name="slotsRadios" value=23 onchange="selectTierTypeRadios(2)" checked=(!settings.slots||settings.slots==23 ? "checked":undefined)) 
//-         label(for="slots23") 23 slots
//-     .form-check
//-         input#slotsOthers.form-check-input.radio(type="radio" name="slotsRadios" value="others" onchange="selectTierTypeRadios(2)" checked=(settings.slots&&settings.slots!=10&&settings.slots!=15&&settings.slots!=20&&settings.slots!=23 ? "checked":undefined)) 
//-         label(for="slotsOthers") Others: &nbsp;
//-         input#slotsOthersInput.form-control(type="number" value=settings.slots min="5")
//-         span &nbsp; slots
