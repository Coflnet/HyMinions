extends ../layouts/default

block append js
	script(src="/js/eventsData.js")
	//- script(src="/js/minionsOperation.js")
	//- script(src="/js/minionsData.js")
	script(src="/js/index.js")

block append variables 
	- var currentPage = "home";
	- var numberOfMinions = 52;

block content
	.container
		h1 Welcome to HyMinions! <img src="images/aotd.png" width="40"/>
		br
		.my-box
			.container
				h4#announcementsHeaderYellow.header <img src="/images/news.png" width="30"/> UPDATE 
				h3 Minion Calculator Update
				ul
					li Added Voidling Minion and new variants of ender pearl
					li Brand new minion calculator which more suits your actual needs
					li Able to share your minions profit list to others with a link
					li Aesthetic improvements and more
					li Added back individual minions settings
				
				#collapseAnnouncements.collapse
					h4 New minion calculator
					p The new minion calculator would calculate the profit based on your frequency of collecting minions.
					p For example, lapis minions could be a good minion for active players, who collect enchanted lapis before they are automatically converted into enchanted lapis blocks, but not for those who are less active.
					p To use the new minion calculator, you could either type in your name and offline duration right here on the homepage or go to the <a href="/minions">minions</a> page if you would like to change some settings. (e.g. fuel/ diamond spreading)
					p If you wish to use the old settings, you could click <a href="minions/?calculationType=0&diamondSpreading=1&sellingMethod=0">here</a> to have the previous settings prefilled for you. 
					h4 Link sharing
					p You could share the URL of the website after you have entered your settings and clicked apply. For example, <a href="/minions/?name=technoblade&offlineTime=240&/#content"> this link </a> gives the minion profit list of Technoblade for 10 days of offline time.
					p This saves time typing your desired settings every time you visit the site, and it makes sharing specific minion profit lists easier.
					h4 Miscellaneous
					ul
						li Added tier 12 farming minions
						li Changed default settings from "sell offer" to "sell instantly" at the bazaar, to stabilize the bazaar prices
						li Aesthetic improvements
					p You could submit bug reports or comments <a href="/contact">here</a>. I hope you all like the update. Thank you!
				a.read-more(data-toggle="collapse" href="#collapseAnnouncements" aria-expanded="false" aria-controls="collapseAnnouncements")
					span.collapsed Show more
					span.expanded Show less
				//- p.
				//- 	If you spot a bug, feel free to <a href="/contact">contact me</a>.

		br
		.my-box
			.container
				h4#eventsHeader.header: a(href="/events") <img src="/images/events.png" width="30"/> EVENTS 
				h4#eventDescription Loading
				a(href="/events") View other events

		br 
		
		<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
		//-index1
		<ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-3541192882647315" data-ad-slot="9139447013" data-ad-format="auto" data-full-width-responsive="true"></ins>
		<script> (adsbygoogle = window.adsbygoogle || []).push({}); </script>

		br
		.my-box
			.container
				h4#minionsHeader.header: a(href="/minions") <img src="/images/minions.png" width="30"/> MINIONS 
				p Type in your Minecraft name and offline duration, then click "Apply" to make your own tailor-made minion list.

				a(href="/minions") Click here for more settings and calculation details
				br
				br
				#minionsInput
					.form-group#useProfile
						p Minecraft Name: &nbsp; 
							input#overallProfileName.form-control(value=settings.name)
						if(settings.profileNames)
							label(for="overallProfileProfile") Profile: &nbsp;
							select#overallProfileProfile.form-control
								-let k=0
								while k<settings.profileNames.length
									option(value=k selected=(settings.profile==k?'selected':undefined))=settings.profileNames[k]
									-k++;
					.form-group
						p Offline time: &nbsp; 
							input#overallOfflineTime.form-control(type="number" value=settings.offlineTimeUnit==1?settings.offlineTime/24:settings.offlineTime min="0")
							span &nbsp;
							select#overallOfflineTimeUnit.form-control
								option(value="0" selected=(settings.offlineTimeUnit==0?'selected':undefined)) hour(s)
								option(value="1" selected=(settings.offlineTimeUnit==1?'selected':undefined)) day(s)
					button#overallSettings.btn(onclick="generateLink()") Apply
				
				br
				#content

					
					//- <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
					//- //-test-index1
					//- <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-6880962885436734" data-ad-slot="3142042549" data-ad-format="auto" data-full-width-responsive="true"></ins>
					//- <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script>
					
					if !minions || !settings
						h1 Error
						p.lead An unexpected error has occured. You may make a bug report <a href="/contact">here</a>.
					else if settings.hasError
						h1 Error
						p.lead=settings.errorMsg

					else
						h4 Top Profitable Minions
						#minionsIndexTable
							.row
								.offset-2.col-4.text-center: h5 Minion
								.col-2.text-center: h5 Tier
								.col-4: h5 Total Profit
							- let i = 0
							while i<5
								.row.align-items-center
									.col-2.text-center
										p.d-inline.p-height-fix ##{i+1}
										p.d-none.d-md-inline &nbsp;
										img(src="/images/minions/"+minions[i].name+".png").d-inline
									.col-4.text-center: p(id="minion"+i+"Name").mb-0=minions[i].name.substring(0, minions[i].name.lastIndexOf(" "))
									.col-2.text-center: p(id="minion"+i+"Tier").mb-0=minions[i].tier
									.col-4: p(id="minion"+i+"Profit").mb-0=minions[i].totalProfitText
								- i++;
							
							#collapseMinions.collapse
								while i<minions.length
									.row.align-items-center
										.col-2.text-center
											p.d-inline.p-height-fix ##{i+1}
											p.d-none.d-md-inline &nbsp;
											img(src="/images/minions/"+minions[i].name+".png").d-inline
										.col-4.text-center: p(id="minion"+i+"Name").mb-0=minions[i].name.substring(0, minions[i].name.lastIndexOf(" "))
										.col-2.text-center: p(id="minion"+i+"Tier").mb-0=minions[i].tier
										.col-4: p(id="minion"+i+"Profit").mb-0=minions[i].totalProfitText
									- i++;

						a.read-more(data-toggle="collapse" href="#collapseMinions" aria-expanded="false" aria-controls="collapseMinions")
							span.collapsed Show more
							span.expanded Show less
				
						br
						br
						p: small Based on tier 11 minions, 24 hours offline time, with Enchanted Lava Bucket, Diamond Spreading and Dwarven Super Compactor 3000 equipped. You are expected to sell your products using "sell instantly". 

				a(href="/minions") Click here for more settings and calculation details

		
		//- br
		//- .my-box
		//- 	.container
		//- 		h4#announcementsHeader.header HELP WANTED
		//- 		p.
		//- 			I have been doing some research on minion storages. I would like to know how to calculate when a minion would completely fill out, so that I can make a more advanced minion calculator.
		//- 		p.
		//- 			If your minions are full, you could help me out by screen capture the minion GUI (with the minion storages) and upload to <a href="https://docs.google.com/forms/d/e/1FAIpQLScWcmL2yTLDqHCU3yPYW5u1IVLpS5ZGx55a-ZwjZ_JYkO61Zg/viewform?usp=sf_link" class="live">this google form</a>.
		//- 		p Alternatively, if you have any insights on the calculation, you could reply to <a href="https://hypixel.net/threads/skyblock-when-would-a-minion-be-full.3669416/" class="live">my forum post</a>.
		//- 		p Thank you very much!

				